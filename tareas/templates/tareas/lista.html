{% extends 'tareas/base.html' %}


{% block title %}
    Lista de Tareas
{% endblock %}


{% block content %}
<h2>📋 Tareas Pendientes</h2>
{% for tarea in tareas %}
    {% if not tarea.completada %}
        <div class="tarjeta-tarea">
            <h3>{{ tarea.titulo }}</h3>
            <p>{{ tarea.descripcion }}</p>
            <p class="fecha">⏳ Fecha límite: {{ tarea.fecha_limite }}</p>
            <div class="tipo-tarea tipo-{{ tarea.tipo }}">
                {{ tarea.get_tipo_display }}
            </div>            
            <div class="botones">
                <a href="{% url 'editar_tarea' tarea.id %}" class="btn">✏️ Editar</a>
                <a href="{% url 'eliminar_tarea' tarea.id %}" class="btn">🗑️ Eliminar</a>
                <a href="{% url 'marcar_completada' tarea.id %}" class="btn">✅ Completar</a>
            </div>
        </div>
    {% endif %}
{% empty %}
    <p>No hay tareas pendientes.</p>
{% endfor %}

<hr>

<h2>✅ Tareas Completadas</h2>
{% for tarea in tareas %}
    {% if tarea.completada %}
        <div class="tarjeta-tarea completada">
            <h3>{{ tarea.titulo }}</h3>
            <p>{{ tarea.descripcion }}</p>
            <p class="fecha">⏳ Fecha límite: {{ tarea.fecha_limite }}</p>
            <div class="tipo-tarea tipo-{{ tarea.tipo }}">
                {{ tarea.get_tipo_display }}
            </div>            
            <p><strong>Completada</strong></p>
        </div>
    {% endif %}
{% empty %}
    <p>No hay tareas completadas.</p>
{% endfor %}

<a href="{% url 'registrar_tarea' %}" class="btn">➕ Nueva tarea</a>

{% endblock content %}
    